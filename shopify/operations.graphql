fragment Cli_MetaobjectDefinition on MetaobjectDefinition {
  access {
    admin
    storefront
  }
  capabilities {
    onlineStore {
      data {
        canCreateRedirects
        urlHandle
      }
      enabled
    }
    publishable {
      enabled
    }
    renderable {
      enabled
      data {
        metaDescriptionKey
        metaTitleKey
      }
    }
    translatable {
      enabled
    }
  }
  description
  displayNameKey
  fieldDefinitions {
    description
    key
    name
    required
    type {
      category
      name
    }
    validations {
      name
      value
    }
  }
  id
  name
  type
}

query ListMetaobjectDefinitions(
  $first: Int!
  # @genqlient(omitempty: true)
  $after: String
) {
  metaobjectDefinitions(first: $first, after: $after) {
    # @genqlient(flatten: true)
    nodes {
      ...Cli_MetaobjectDefinition
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query GetMetaobjectDefinitionByType($defType: String!) {
  # @genqlient(flatten: true)
  metaobjectDefinitionByType(type: $defType) {
    ...Cli_MetaobjectDefinition
  }
}
